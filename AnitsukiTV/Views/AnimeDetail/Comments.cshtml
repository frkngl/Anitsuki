@using AnitsukiTV.Models
@model List<TBLANIMECOMMENT>


@{AnitsukiTVEntities db = new AnitsukiTVEntities();}
@helper GenerateModal(int CommentID, string UserName, int AnimeID)
{
    <div style="margin-top: 100px;" class="modal fade" id="@("modal_" + CommentID)" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div style="background-color: #000000; box-shadow: 0px 0px 20px #FF7F00" class="modal-content">
                <div class="modal-header">
                    <h1 style="color:#ffffff;" class="modal-title fs-5" id="exampleModalLabel">Cevap Yazıyorsunuz</h1>
                    <button style="background-color: #ffffff; color:#ffffff;" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form style="color:#ffffff;" action="/AnimeDetail/ReplyComment" method="post" class="form-group">
                        <input hidden type="text" name="USTID" value="@CommentID" readonly class="form-control" style="border: none; color:#ffffff; outline: solid #000000; background-color: #313131; " />
                        <input hidden type="text" name="ANIMEID" value="@AnimeID" readonly class="form-control" style="border: none; color:#ffffff; outline: solid #000000; background-color: #313131; " />
                        <img hidden src="~/IMG/@Session["UserProfilePicture"]" alt="Profil Fotoğrafı" />
                        <span hidden>@Session["Username"]</span>
                        Cevap yazdığınız kişi
                        <input type="text" name="USERID" value="@UserName" readonly class="form-control" style="border: none; color:#ffffff; outline: solid #000000; background-color: #313131; " />
                        <br />
                        Yorum
                        <textarea name="COMMENT" class="form-control" style="border: none; color: #ffffff; background-color: #313131; outline: solid #000000; height: 200px;"></textarea>
                        <br />
                        <div style="width:100%; display:flex; justify-content:center;">
                            <button style="background-color: #FF7F00; width:90px; height:40px; border-radius:20px; border:none; font-size:1rem;" type="submit">Gönder</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
}





<div class="commentboxes">
    <div class="title">
        <i class="bi bi-chat"></i> Yorum Sayısı @ViewBag.CommentCount
    </div>
    <div class="comments">
        @{ string isim = "aa";}
        @if (Model.Any())
        {
            foreach (var x in Model.Where(x => x.USTID == null))
            {

                <div class="comment1">
                    @if (x.TBLUSER.PICTURE != null)
                    {
                        <img src="~/IMG/@x.TBLUSER.PICTURE">
                    }
                    else
                    {
                        <img src="~/IMG/stockuser.png" />
                    }
                    <div class="detail">
                        <div class="user">
                            <div class="name">
                                @x.TBLUSER.USERNAME
                            </div>
                            <div class="year">
                                @x.DATE.Value.ToString("dd.MM.yyyy")
                            </div>
                        </div>
                        <div class="text">
                            @if (x.USTID != null)
                            {
                                <strong style="color: #FF7F00;margin-right:8px;">@x.TBLUSER.USERNAME</strong> @x.COMMENT
                            }
                            else
                            {
                                @x.COMMENT
                            }
                        </div>
                        <div class="more">
                            @{ isim = isim + x.ID;}
                            @if (Request.IsAuthenticated)
                            {
                                <div data-bs-toggle="modal" data-bs-target="#@("modal_" + x.ID)" class="reply">
                                    <i class="bi bi-reply"></i> Cevapla
                                </div>
                            }
                            else
                            {
                                <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                            }

                            @GenerateModal(x.ID, x.TBLUSER.USERNAME, ViewBag.animecom)

                            <div class="likeandunlike">
                                @if (User.Identity.IsAuthenticated)
                                {
                                    var userID = db.TBLUSER.Where(u => u.USERNAME == User.Identity.Name).Select(u => u.ID).FirstOrDefault();
                                    var likeExist = x.TBLANIMECOMMENTLIKE.Any(y => y.USERID == userID);
                                    if (likeExist)
                                    {
                                        <div class="like">
                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @x.TBLANIMECOMMENTLIKE.Where(y => y.STATUS == true).Count()</a>
                                        </div>
                                        <div class="unlike">
                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@x.TBLANIMECOMMENTLIKE.Where(y => y.STATUS == false).Count()</a>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="like">
                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@x.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @x.TBLANIMECOMMENTLIKE.Where(y => y.STATUS == true).Count()</a>
                                        </div>
                                        <div class="unlike">
                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@x.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@x.TBLANIMECOMMENTLIKE.Where(y => y.STATUS == false).Count()</a>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <div class="like">
                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @x.TBLANIMECOMMENTLIKE.Where(y => y.STATUS == true).Count()</a>
                                    </div>
                                    <div class="unlike">
                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@x.TBLANIMECOMMENTLIKE.Where(y => y.STATUS == false).Count()</a>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
                foreach (var y in Model.Where(y => y.USTID == x.ID))
                {
                    <div class="comment2">
                        @if (y.TBLUSER.PICTURE != null)
                        {
                            <img src="~/IMG/@y.TBLUSER.PICTURE">
                        }
                        else
                        {
                            <img src="~/IMG/stockuser.png" />
                        }
                        <div class="detail">
                            <div class="user">
                                <div class="name">
                                    @y.TBLUSER.USERNAME
                                </div>
                                <div class="year">
                                    @y.DATE.Value.ToString("dd.MM.yyyy")
                                </div>
                            </div>
                            <div class="text">
                                <strong style="color: #FF7F00;margin-right:8px;">@x.TBLUSER.USERNAME</strong>  @y.COMMENT
                            </div>
                            <div class="more">
                                @{ isim = isim + y.ID;}
                                @if (Request.IsAuthenticated)
                                {
                                    <div data-bs-toggle="modal" data-bs-target="#@("modal_" + y.ID)" class="reply">
                                        <i class="bi bi-reply"></i> Cevapla
                                    </div>
                                }
                                else
                                {
                                    <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                }
                                <!-- Modal -->
                                @GenerateModal(y.ID, y.TBLUSER.USERNAME, ViewBag.animecom)

                                <div class="likeandunlike">
                                    @if (User.Identity.IsAuthenticated)
                                    {
                                        var userID = db.TBLUSER.Where(u => u.USERNAME == User.Identity.Name).Select(u => u.ID).FirstOrDefault();
                                        var likeExist = y.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                        if (likeExist)
                                        {
                                            <div class="like">
                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @y.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                            </div>
                                            <div class="unlike">
                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@y.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="like">
                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@y.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @y.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                            </div>
                                            <div class="unlike">
                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@y.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@y.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                            </div>
                                        }
                                    }
                                    else
                                    {
                                        <div class="like">
                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @y.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                        </div>
                                        <div class="unlike">
                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@y.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                    foreach (var z in Model.Where(z => z.USTID == y.ID))
                    {
                        <div class="comment2">
                            @if (z.TBLUSER.PICTURE != null)
                            {
                                <img src="~/IMG/@z.TBLUSER.PICTURE">
                            }
                            else
                            {
                                <img src="~/IMG/stockuser.png" />
                            }
                            <div class="detail">
                                <div class="user">
                                    <div class="name">
                                        @z.TBLUSER.USERNAME
                                    </div>
                                    <div class="year">
                                        @z.DATE.Value.ToString("dd.MM.yyyy")
                                    </div>
                                </div>
                                <div class="text">
                                    <strong style="color: #FF7F00;margin-right:8px;">@y.TBLUSER.USERNAME</strong>  @z.COMMENT
                                </div>
                                <div class="more">
                                    @{ isim = isim + z.ID;}
                                    @if (Request.IsAuthenticated)
                                    {
                                        <div data-bs-toggle="modal" data-bs-target="#@("modal_" + z.ID)" class="reply">
                                            <i class="bi bi-reply"></i> Cevapla
                                        </div>
                                    }
                                    else
                                    {
                                        <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                    }
                                    <!-- Modal -->
                                    @GenerateModal(z.ID, z.TBLUSER.USERNAME, ViewBag.animecom)
                                    <div class="likeandunlike">
                                        @if (User.Identity.IsAuthenticated)
                                        {
                                            var userID = db.TBLUSER.Where(u => u.USERNAME == User.Identity.Name).Select(u => u.ID).FirstOrDefault();
                                            var likeExist = z.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                            if (likeExist)
                                            {
                                                <div class="like">
                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @z.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                </div>
                                                <div class="unlike">
                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@z.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="like">
                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@z.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @z.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                </div>
                                                <div class="unlike">
                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@z.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@z.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                </div>
                                            }
                                        }
                                        else
                                        {
                                            <div class="like">
                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @z.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                            </div>
                                            <div class="unlike">
                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@z.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                        foreach (var q in Model.Where(q => q.USTID == z.ID))
                        {
                            <div class="comment2">
                                @if (q.TBLUSER.PICTURE != null)
                                {
                                    <img src="~/IMG/@q.TBLUSER.PICTURE">
                                }
                                else
                                {
                                    <img src="~/IMG/stockuser.png" />
                                }
                                <div class="detail">
                                    <div class="user">
                                        <div class="name">
                                            @q.TBLUSER.USERNAME
                                        </div>
                                        <div class="year">
                                            @q.DATE.Value.ToString("dd.MM.yyyy")
                                        </div>
                                    </div>
                                    <div class="text">
                                        <strong style="color: #FF7F00;margin-right:8px;">@z.TBLUSER.USERNAME</strong>  @q.COMMENT
                                    </div>
                                    <div class="more">
                                        @{ isim = isim + q.ID;}
                                        @if (Request.IsAuthenticated)
                                        {
                                            <div data-bs-toggle="modal" data-bs-target="#@("modal_" + q.ID)" class="reply">
                                                <i class="bi bi-reply"></i> Cevapla
                                            </div>
                                        }
                                        else
                                        {
                                            <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                        }
                                        <!-- Modal -->
                                        @GenerateModal(q.ID, q.TBLUSER.USERNAME, ViewBag.animecom)
                                        <div class="likeandunlike">
                                            @if (User.Identity.IsAuthenticated)
                                            {
                                                var userID = db.TBLUSER.Where(u => u.USERNAME == User.Identity.Name).Select(u => u.ID).FirstOrDefault();
                                                var likeExist = q.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                if (likeExist)
                                                {
                                                    <div class="like">
                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @q.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                    </div>
                                                    <div class="unlike">
                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@q.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="like">
                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@q.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @q.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                    </div>
                                                    <div class="unlike">
                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@q.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@q.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                    </div>
                                                }
                                            }
                                            else
                                            {
                                                <div class="like">
                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @q.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                </div>
                                                <div class="unlike">
                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@q.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            foreach (var w in Model.Where(w => w.USTID == q.ID))
                            {
                                <div class="comment2">
                                    @if (w.TBLUSER.PICTURE != null)
                                    {
                                        <img src="~/IMG/@w.TBLUSER.PICTURE">
                                    }
                                    else
                                    {
                                        <img src="~/IMG/stockuser.png" />
                                    }
                                    <div class="detail">
                                        <div class="user">
                                            <div class="name">
                                                @w.TBLUSER.USERNAME
                                            </div>
                                            <div class="year">
                                                @w.DATE.Value.ToString("dd.MM.yyyy")
                                            </div>
                                        </div>
                                        <div class="text">
                                            <strong style="color: #FF7F00;margin-right:8px;">@q.TBLUSER.USERNAME</strong>  @w.COMMENT
                                        </div>
                                        <div class="more">
                                            @{ isim = isim + w.ID;}
                                            @if (Request.IsAuthenticated)
                                            {
                                                <div data-bs-toggle="modal" data-bs-target="#@("modal_" + w.ID)" class="reply">
                                                    <i class="bi bi-reply"></i> Cevapla
                                                </div>
                                            }
                                            else
                                            {
                                                <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                            }
                                            <!-- Modal -->
                                            @GenerateModal(w.ID, q.TBLUSER.USERNAME, ViewBag.animecom)
                                            <div class="likeandunlike">
                                                @if (User.Identity.IsAuthenticated)
                                                {
                                                    var userID = db.TBLUSER.Where(u => u.USERNAME == User.Identity.Name).Select(u => u.ID).FirstOrDefault();
                                                    var likeExist = w.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                    if (likeExist)
                                                    {
                                                        <div class="like">
                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @w.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                        </div>
                                                        <div class="unlike">
                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@w.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                        </div>
                                                    }
                                                    else
                                                    {
                                                        <div class="like">
                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@w.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @w.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                        </div>
                                                        <div class="unlike">
                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@w.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@w.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                        </div>
                                                    }
                                                }
                                                else
                                                {
                                                    <div class="like">
                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @w.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                    </div>
                                                    <div class="unlike">
                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@w.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                foreach (var e in Model.Where(e => e.USTID == w.ID))
                                {
                                    <div class="comment2">
                                        @if (e.TBLUSER.PICTURE != null)
                                        {
                                            <img src="~/IMG/@e.TBLUSER.PICTURE">
                                        }
                                        else
                                        {
                                            <img src="~/IMG/stockuser.png" />
                                        }
                                        <div class="detail">
                                            <div class="user">
                                                <div class="name">
                                                    @e.TBLUSER.USERNAME
                                                </div>
                                                <div class="year">
                                                    @e.DATE.Value.ToString("dd.MM.yyyy")
                                                </div>
                                            </div>
                                            <div class="text">
                                                <strong style="color: #FF7F00;margin-right:8px;">@w.TBLUSER.USERNAME</strong>  @e.COMMENT
                                            </div>
                                            <div class="more">
                                                @{ isim = isim + e.ID;}
                                                @if (Request.IsAuthenticated)
                                                {
                                                    <div data-bs-toggle="modal" data-bs-target="#@("modal_" + e.ID)" class="reply">
                                                        <i class="bi bi-reply"></i> Cevapla
                                                    </div>
                                                }
                                                else
                                                {
                                                    <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                }
                                                <!-- Modal -->
                                                @GenerateModal(e.ID, w.TBLUSER.USERNAME, ViewBag.animecom)
                                                <div class="likeandunlike">
                                                    @if (User.Identity.IsAuthenticated)
                                                    {
                                                        var userID = db.TBLUSER.Where(u => u.USERNAME == User.Identity.Name).Select(u => u.ID).FirstOrDefault();
                                                        var likeExist = e.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                        if (likeExist)
                                                        {
                                                            <div class="like">
                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @e.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                            </div>
                                                            <div class="unlike">
                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@e.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                            </div>
                                                        }
                                                        else
                                                        {
                                                            <div class="like">
                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@e.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @e.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                            </div>
                                                            <div class="unlike">
                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@e.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@e.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                            </div>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <div class="like">
                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @e.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                        </div>
                                                        <div class="unlike">
                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@e.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                        </div>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    foreach (var r in Model.Where(r => r.USTID == e.ID))
                                    {
                                        <div class="comment2">
                                            @if (r.TBLUSER.PICTURE != null)
                                            {
                                                <img src="~/IMG/@r.TBLUSER.PICTURE">
                                            }
                                            else
                                            {
                                                <img src="~/IMG/stockuser.png" />
                                            }
                                            <div class="detail">
                                                <div class="user">
                                                    <div class="name">
                                                        @r.TBLUSER.USERNAME
                                                    </div>
                                                    <div class="year">
                                                        @r.DATE.Value.ToString("dd.MM.yyyy")
                                                    </div>
                                                </div>
                                                <div class="text">
                                                    <strong style="color: #FF7F00;margin-right:8px;">@e.TBLUSER.USERNAME</strong>  @r.COMMENT
                                                </div>
                                                <div class="more">
                                                    @{ isim = isim + r.ID;}
                                                    @if (Request.IsAuthenticated)
                                                    {
                                                        <div data-bs-toggle="modal" data-bs-target="#@("modal_" + r.ID)" class="reply">
                                                            <i class="bi bi-reply"></i> Cevapla
                                                        </div>
                                                    }
                                                    else
                                                    {
                                                        <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                    }
                                                    <!-- Modal -->
                                                    @GenerateModal(r.ID, e.TBLUSER.USERNAME, ViewBag.animecom)
                                                    <div class="likeandunlike">
                                                        @if (User.Identity.IsAuthenticated)
                                                        {
                                                            var userID = db.TBLUSER.Where(u => u.USERNAME == User.Identity.Name).Select(u => u.ID).FirstOrDefault();
                                                            var likeExist = r.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                            if (likeExist)
                                                            {
                                                                <div class="like">
                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @r.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                </div>
                                                                <div class="unlike">
                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@r.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                </div>
                                                            }
                                                            else
                                                            {
                                                                <div class="like">
                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@r.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @r.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                </div>
                                                                <div class="unlike">
                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@r.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@r.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                </div>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <div class="like">
                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @r.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                            </div>
                                                            <div class="unlike">
                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@r.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                            </div>
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        foreach (var t in Model.Where(t => t.USTID == r.ID))
                                        {
                                            <div class="comment2">
                                                @if (t.TBLUSER.PICTURE != null)
                                                {
                                                    <img src="~/IMG/@t.TBLUSER.PICTURE">
                                                }
                                                else
                                                {
                                                    <img src="~/IMG/stockuser.png" />
                                                }
                                                <div class="detail">
                                                    <div class="user">
                                                        <div class="name">
                                                            @t.TBLUSER.USERNAME
                                                        </div>
                                                        <div class="year">
                                                            @t.DATE.Value.ToString("dd.MM.yyyy")
                                                        </div>
                                                    </div>
                                                    <div class="text">
                                                        <strong style="color: #FF7F00;margin-right:8px;">@r.TBLUSER.USERNAME</strong>  @t.COMMENT
                                                    </div>
                                                    <div class="more">
                                                        @{ isim = isim + t.ID;}
                                                        @if (Request.IsAuthenticated)
                                                        {
                                                            <div data-bs-toggle="modal" data-bs-target="#@("modal_" + t.ID)" class="reply">
                                                                <i class="bi bi-reply"></i> Cevapla
                                                            </div>
                                                        }
                                                        else
                                                        {
                                                            <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                        }
                                                        <!-- Modal -->
                                                        @GenerateModal(t.ID, r.TBLUSER.USERNAME, ViewBag.animecom)
                                                        <div class="likeandunlike">
                                                            @if (User.Identity.IsAuthenticated)
                                                            {
                                                                var userID = db.TBLUSER.Where(u => u.USERNAME == User.Identity.Name).Select(u => u.ID).FirstOrDefault();
                                                                var likeExist = t.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                if (likeExist)
                                                                {
                                                                    <div class="like">
                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @t.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                    </div>
                                                                    <div class="unlike">
                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@t.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="like">
                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@t.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @t.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                    </div>
                                                                    <div class="unlike">
                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@t.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@t.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                    </div>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <div class="like">
                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @t.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                </div>
                                                                <div class="unlike">
                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@t.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                </div>
                                                            }
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            foreach (var u in Model.Where(u => u.USTID == t.ID))
                                            {
                                                <div class="comment2">
                                                    @if (u.TBLUSER.PICTURE != null)
                                                    {
                                                        <img src="~/IMG/@u.TBLUSER.PICTURE">
                                                    }
                                                    else
                                                    {
                                                        <img src="~/IMG/stockuser.png" />
                                                    }
                                                    <div class="detail">
                                                        <div class="user">
                                                            <div class="name">
                                                                @u.TBLUSER.USERNAME
                                                            </div>
                                                            <div class="year">
                                                                @u.DATE.Value.ToString("dd.MM.yyyy")
                                                            </div>
                                                        </div>
                                                        <div class="text">
                                                            <strong style="color: #FF7F00;margin-right:8px;">@t.TBLUSER.USERNAME</strong>  @u.COMMENT
                                                        </div>
                                                        <div class="more">
                                                            @{ isim = isim + u.ID;}
                                                            @if (Request.IsAuthenticated)
                                                            {
                                                                <div data-bs-toggle="modal" data-bs-target="#@("modal_" + u.ID)" class="reply">
                                                                    <i class="bi bi-reply"></i> Cevapla
                                                                </div>
                                                            }
                                                            else
                                                            {
                                                                <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                            }
                                                            <!-- Modal -->
                                                            @GenerateModal(u.ID, t.TBLUSER.USERNAME, ViewBag.animecom)
                                                            <div class="likeandunlike">
                                                                @if (User.Identity.IsAuthenticated)
                                                                {
                                                                    var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                    var likeExist = u.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                    if (likeExist)
                                                                    {
                                                                        <div class="like">
                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @u.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                        </div>
                                                                        <div class="unlike">
                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@u.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="like">
                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@u.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @u.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                        </div>
                                                                        <div class="unlike">
                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@u.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@u.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                        </div>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <div class="like">
                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @u.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                    </div>
                                                                    <div class="unlike">
                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@u.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                    </div>
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                foreach (var i in Model.Where(i => i.USTID == u.ID))
                                                {
                                                    <div class="comment2">
                                                        @if (i.TBLUSER.PICTURE != null)
                                                        {
                                                            <img src="~/IMG/@i.TBLUSER.PICTURE">
                                                        }
                                                        else
                                                        {
                                                            <img src="~/IMG/stockuser.png" />
                                                        }
                                                        <div class="detail">
                                                            <div class="user">
                                                                <div class="name">
                                                                    @i.TBLUSER.USERNAME
                                                                </div>
                                                                <div class="year">
                                                                    @i.DATE.Value.ToString("dd.MM.yyyy")
                                                                </div>
                                                            </div>
                                                            <div class="text">
                                                                <strong style="color: #FF7F00;margin-right:8px;">@u.TBLUSER.USERNAME</strong>  @i.COMMENT
                                                            </div>
                                                            <div class="more">
                                                                @{ isim = isim + i.ID;}
                                                                @if (Request.IsAuthenticated)
                                                                {
                                                                    <div data-bs-toggle="modal" data-bs-target="#@("modal_" + i.ID)" class="reply">
                                                                        <i class="bi bi-reply"></i> Cevapla
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                }
                                                                <!-- Modal -->
                                                                @GenerateModal(i.ID, u.TBLUSER.USERNAME, ViewBag.animecom)
                                                                <div class="likeandunlike">
                                                                    @if (User.Identity.IsAuthenticated)
                                                                    {
                                                                        var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                        var likeExist = i.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                        if (likeExist)
                                                                        {
                                                                            <div class="like">
                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @i.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                            </div>
                                                                            <div class="unlike">
                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@i.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                            </div>
                                                                        }
                                                                        else
                                                                        {
                                                                            <div class="like">
                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@i.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @i.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                            </div>
                                                                            <div class="unlike">
                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@i.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@i.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                            </div>
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="like">
                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @i.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                        </div>
                                                                        <div class="unlike">
                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@i.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                        </div>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    foreach (var o in Model.Where(o => o.USTID == i.ID))
                                                    {
                                                        <div class="comment2">
                                                            @if (o.TBLUSER.PICTURE != null)
                                                            {
                                                                <img src="~/IMG/@o.TBLUSER.PICTURE">
                                                            }
                                                            else
                                                            {
                                                                <img src="~/IMG/stockuser.png" />
                                                            }
                                                            <div class="detail">
                                                                <div class="user">
                                                                    <div class="name">
                                                                        @o.TBLUSER.USERNAME
                                                                    </div>
                                                                    <div class="year">
                                                                        @o.DATE.Value.ToString("dd.MM.yyyy")
                                                                    </div>
                                                                </div>
                                                                <div class="text">
                                                                    <strong style="color: #FF7F00;margin-right:8px;">@i.TBLUSER.USERNAME</strong>  @o.COMMENT
                                                                </div>
                                                                <div class="more">
                                                                    @{ isim = isim + o.ID;}
                                                                    @if (Request.IsAuthenticated)
                                                                    {
                                                                        <div data-bs-toggle="modal" data-bs-target="#@("modal_" + o.ID)" class="reply">
                                                                            <i class="bi bi-reply"></i> Cevapla
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                    }
                                                                    <!-- Modal -->
                                                                    @GenerateModal(o.ID, i.TBLUSER.USERNAME, ViewBag.animecom)
                                                                    <div class="likeandunlike">
                                                                        @if (User.Identity.IsAuthenticated)
                                                                        {
                                                                            var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                            var likeExist = o.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                            if (likeExist)
                                                                            {
                                                                                <div class="like">
                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @o.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                </div>
                                                                                <div class="unlike">
                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@o.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="like">
                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@o.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @o.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                </div>
                                                                                <div class="unlike">
                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@o.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@o.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                </div>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <div class="like">
                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @o.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                            </div>
                                                                            <div class="unlike">
                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@o.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        foreach (var p in Model.Where(p => p.USTID == o.ID))
                                                        {
                                                            <div class="comment2">
                                                                @if (p.TBLUSER.PICTURE != null)
                                                                {
                                                                    <img src="~/IMG/@p.TBLUSER.PICTURE">
                                                                }
                                                                else
                                                                {
                                                                    <img src="~/IMG/stockuser.png" />
                                                                }
                                                                <div class="detail">
                                                                    <div class="user">
                                                                        <div class="name">
                                                                            @p.TBLUSER.USERNAME
                                                                        </div>
                                                                        <div class="year">
                                                                            @p.DATE.Value.ToString("dd.MM.yyyy")
                                                                        </div>
                                                                    </div>
                                                                    <div class="text">
                                                                        <strong style="color: #FF7F00;margin-right:8px;">@o.TBLUSER.USERNAME</strong>  @p.COMMENT
                                                                    </div>
                                                                    <div class="more">
                                                                        @{ isim = isim + p.ID;}
                                                                        @if (Request.IsAuthenticated)
                                                                        {
                                                                            <div data-bs-toggle="modal" data-bs-target="#@("modal_" + p.ID)" class="reply">
                                                                                <i class="bi bi-reply"></i> Cevapla
                                                                            </div>
                                                                        }
                                                                        else
                                                                        {
                                                                            <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                        }
                                                                        <!-- Modal -->
                                                                        @GenerateModal(p.ID, o.TBLUSER.USERNAME, ViewBag.animecom)
                                                                        <div class="likeandunlike">
                                                                            @if (User.Identity.IsAuthenticated)
                                                                            {
                                                                                var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                var likeExist = p.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                if (likeExist)
                                                                                {
                                                                                    <div class="like">
                                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @p.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                    </div>
                                                                                    <div class="unlike">
                                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@p.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                    </div>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div class="like">
                                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@p.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @p.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                    </div>
                                                                                    <div class="unlike">
                                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@p.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@p.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                    </div>
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="like">
                                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @p.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                </div>
                                                                                <div class="unlike">
                                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@p.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                </div>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            foreach (var g in Model.Where(g => g.USTID == p.ID))
                                                            {
                                                                <div class="comment2">
                                                                    @if (g.TBLUSER.PICTURE != null)
                                                                    {
                                                                        <img src="~/IMG/@g.TBLUSER.PICTURE">
                                                                    }
                                                                    else
                                                                    {
                                                                        <img src="~/IMG/stockuser.png" />
                                                                    }
                                                                    <div class="detail">
                                                                        <div class="user">
                                                                            <div class="name">
                                                                                @g.TBLUSER.USERNAME
                                                                            </div>
                                                                            <div class="year">
                                                                                @g.DATE.Value.ToString("dd.MM.yyyy")
                                                                            </div>
                                                                        </div>
                                                                        <div class="text">
                                                                            <strong style="color: #FF7F00;margin-right:8px;">@p.TBLUSER.USERNAME</strong>  @g.COMMENT
                                                                        </div>
                                                                        <div class="more">
                                                                            @{ isim = isim + g.ID;}
                                                                            @if (Request.IsAuthenticated)
                                                                            {
                                                                                <div data-bs-toggle="modal" data-bs-target="#@("modal_" + g.ID)" class="reply">
                                                                                    <i class="bi bi-reply"></i> Cevapla
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                            }
                                                                            <!-- Modal -->
                                                                            @GenerateModal(g.ID, p.TBLUSER.USERNAME, ViewBag.animecom)
                                                                            <div class="likeandunlike">
                                                                                @if (User.Identity.IsAuthenticated)
                                                                                {
                                                                                    var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                    var likeExist = g.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                    if (likeExist)
                                                                                    {
                                                                                        <div class="like">
                                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @g.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                        </div>
                                                                                        <div class="unlike">
                                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@g.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                        </div>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <div class="like">
                                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@g.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @g.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                        </div>
                                                                                        <div class="unlike">
                                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@g.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@g.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                        </div>
                                                                                    }
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div class="like">
                                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @g.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                    </div>
                                                                                    <div class="unlike">
                                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@g.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                foreach (var ü in Model.Where(ü => ü.USTID == g.ID))
                                                                {
                                                                    <div class="comment2">
                                                                        @if (ü.TBLUSER.PICTURE != null)
                                                                        {
                                                                            <img src="~/IMG/@ü.TBLUSER.PICTURE">
                                                                        }
                                                                        else
                                                                        {
                                                                            <img src="~/IMG/stockuser.png" />
                                                                        }
                                                                        <div class="detail">
                                                                            <div class="user">
                                                                                <div class="name">
                                                                                    @ü.TBLUSER.USERNAME
                                                                                </div>
                                                                                <div class="year">
                                                                                    @ü.DATE.Value.ToString("dd.MM.yyyy")
                                                                                </div>
                                                                            </div>
                                                                            <div class="text">
                                                                                <strong style="color: #FF7F00;margin-right:8px;">@g.TBLUSER.USERNAME</strong>  @ü.COMMENT
                                                                            </div>
                                                                            <div class="more">
                                                                                @{ isim = isim + ü.ID;}
                                                                                @if (Request.IsAuthenticated)
                                                                                {
                                                                                    <div data-bs-toggle="modal" data-bs-target="#@("modal_" + ü.ID)" class="reply">
                                                                                        <i class="bi bi-reply"></i> Cevapla
                                                                                    </div>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                }
                                                                                <!-- Modal -->
                                                                                @GenerateModal(ü.ID, g.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                <div class="likeandunlike">
                                                                                    @if (User.Identity.IsAuthenticated)
                                                                                    {
                                                                                        var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                        var likeExist = ü.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                        if (likeExist)
                                                                                        {
                                                                                            <div class="like">
                                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @ü.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                            </div>
                                                                                            <div class="unlike">
                                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@ü.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                            </div>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <div class="like">
                                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@ü.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @ü.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                            </div>
                                                                                            <div class="unlike">
                                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@ü.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@ü.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                            </div>
                                                                                        }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <div class="like">
                                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @ü.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                        </div>
                                                                                        <div class="unlike">
                                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@ü.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    foreach (var a in Model.Where(a => a.USTID == ü.ID))
                                                                    {
                                                                        <div class="comment2">
                                                                            @if (a.TBLUSER.PICTURE != null)
                                                                            {
                                                                                <img src="~/IMG/@a.TBLUSER.PICTURE">
                                                                            }
                                                                            else
                                                                            {
                                                                                <img src="~/IMG/stockuser.png" />
                                                                            }
                                                                            <div class="detail">
                                                                                <div class="user">
                                                                                    <div class="name">
                                                                                        @a.TBLUSER.USERNAME
                                                                                    </div>
                                                                                    <div class="year">
                                                                                        @a.DATE.Value.ToString("dd.MM.yyyy")
                                                                                    </div>
                                                                                </div>
                                                                                <div class="text">
                                                                                    <strong style="color: #FF7F00;margin-right:8px;">@ü.TBLUSER.USERNAME</strong>  @a.COMMENT
                                                                                </div>
                                                                                <div class="more">
                                                                                    @{ isim = isim + a.ID;}
                                                                                    @if (Request.IsAuthenticated)
                                                                                    {
                                                                                        <div data-bs-toggle="modal" data-bs-target="#@("modal_" + a.ID)" class="reply">
                                                                                            <i class="bi bi-reply"></i> Cevapla
                                                                                        </div>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                    }
                                                                                    <!-- Modal -->
                                                                                    @GenerateModal(a.ID, ü.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                    <div class="likeandunlike">
                                                                                        @if (User.Identity.IsAuthenticated)
                                                                                        {
                                                                                            var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                            var likeExist = a.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                            if (likeExist)
                                                                                            {
                                                                                                <div class="like">
                                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @a.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                </div>
                                                                                                <div class="unlike">
                                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@a.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                </div>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <div class="like">
                                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@a.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @a.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                </div>
                                                                                                <div class="unlike">
                                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@a.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@a.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                </div>
                                                                                            }
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <div class="like">
                                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @a.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                            </div>
                                                                                            <div class="unlike">
                                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@a.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                            </div>
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        foreach (var s in Model.Where(s => s.USTID == a.ID))
                                                                        {
                                                                            <div class="comment2">
                                                                                @if (s.TBLUSER.PICTURE != null)
                                                                                {
                                                                                    <img src="~/IMG/@s.TBLUSER.PICTURE">
                                                                                }
                                                                                else
                                                                                {
                                                                                    <img src="~/IMG/stockuser.png" />
                                                                                }
                                                                                <div class="detail">
                                                                                    <div class="user">
                                                                                        <div class="name">
                                                                                            @s.TBLUSER.USERNAME
                                                                                        </div>
                                                                                        <div class="year">
                                                                                            @s.DATE.Value.ToString("dd.MM.yyyy")
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="text">
                                                                                        <strong style="color: #FF7F00;margin-right:8px;">@a.TBLUSER.USERNAME</strong>  @s.COMMENT
                                                                                    </div>
                                                                                    <div class="more">
                                                                                        @{ isim = isim + s.ID;}
                                                                                        @if (Request.IsAuthenticated)
                                                                                        {
                                                                                            <div data-bs-toggle="modal" data-bs-target="#@("modal_" + s.ID)" class="reply">
                                                                                                <i class="bi bi-reply"></i> Cevapla
                                                                                            </div>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                        }
                                                                                        <!-- Modal -->
                                                                                        @GenerateModal(s.ID, a.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                        <div class="likeandunlike">
                                                                                            @if (User.Identity.IsAuthenticated)
                                                                                            {
                                                                                                var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                var likeExist = s.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                if (likeExist)
                                                                                                {
                                                                                                    <div class="like">
                                                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @s.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                    </div>
                                                                                                    <div class="unlike">
                                                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@s.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="like">
                                                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@s.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @s.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                    </div>
                                                                                                    <div class="unlike">
                                                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@s.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@s.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <div class="like">
                                                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @s.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                </div>
                                                                                                <div class="unlike">
                                                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@s.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                </div>
                                                                                            }
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            foreach (var d in Model.Where(d => d.USTID == s.ID))
                                                                            {
                                                                                <div class="comment2">
                                                                                    @if (d.TBLUSER.PICTURE != null)
                                                                                    {
                                                                                        <img src="~/IMG/@d.TBLUSER.PICTURE">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <img src="~/IMG/stockuser.png" />
                                                                                    }
                                                                                    <div class="detail">
                                                                                        <div class="user">
                                                                                            <div class="name">
                                                                                                @d.TBLUSER.USERNAME
                                                                                            </div>
                                                                                            <div class="year">
                                                                                                @d.DATE.Value.ToString("dd.MM.yyyy")
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="text">
                                                                                            <strong style="color: #FF7F00;margin-right:8px;">@s.TBLUSER.USERNAME</strong>  @d.COMMENT
                                                                                        </div>
                                                                                        <div class="more">
                                                                                            @{ isim = isim + d.ID;}
                                                                                            @if (Request.IsAuthenticated)
                                                                                            {
                                                                                                <div data-bs-toggle="modal" data-bs-target="#@("modal_" + d.ID)" class="reply">
                                                                                                    <i class="bi bi-reply"></i> Cevapla
                                                                                                </div>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                            }
                                                                                            <!-- Modal -->
                                                                                            @GenerateModal(d.ID, s.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                            <div class="likeandunlike">
                                                                                                @if (User.Identity.IsAuthenticated)
                                                                                                {
                                                                                                    var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                    var likeExist = d.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                    if (likeExist)
                                                                                                    {
                                                                                                        <div class="like">
                                                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @d.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                        </div>
                                                                                                        <div class="unlike">
                                                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@d.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                        </div>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <div class="like">
                                                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@d.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @d.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                        </div>
                                                                                                        <div class="unlike">
                                                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@d.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@d.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                        </div>
                                                                                                    }
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="like">
                                                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @d.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                    </div>
                                                                                                    <div class="unlike">
                                                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@d.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                    </div>
                                                                                                }
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                foreach (var f in Model.Where(f => f.USTID == d.ID))
                                                                                {
                                                                                    <div class="comment2">
                                                                                        @if (f.TBLUSER.PICTURE != null)
                                                                                        {
                                                                                            <img src="~/IMG/@f.TBLUSER.PICTURE">
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <img src="~/IMG/stockuser.png" />
                                                                                        }
                                                                                        <div class="detail">
                                                                                            <div class="user">
                                                                                                <div class="name">
                                                                                                    @f.TBLUSER.USERNAME
                                                                                                </div>
                                                                                                <div class="year">
                                                                                                    @f.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="text">
                                                                                                <strong style="color: #FF7F00;margin-right:8px;">@d.TBLUSER.USERNAME</strong>  @f.COMMENT
                                                                                            </div>
                                                                                            <div class="more">
                                                                                                @{ isim = isim + f.ID;}
                                                                                                @if (Request.IsAuthenticated)
                                                                                                {
                                                                                                    <div data-bs-toggle="modal" data-bs-target="#@("modal_" + f.ID)" class="reply">
                                                                                                        <i class="bi bi-reply"></i> Cevapla
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                }
                                                                                                <!-- Modal -->
                                                                                                @GenerateModal(f.ID, d.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                <div class="likeandunlike">
                                                                                                    @if (User.Identity.IsAuthenticated)
                                                                                                    {
                                                                                                        var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                        var likeExist = f.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                        if (likeExist)
                                                                                                        {
                                                                                                            <div class="like">
                                                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @f.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                            </div>
                                                                                                            <div class="unlike">
                                                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@f.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                            </div>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <div class="like">
                                                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@f.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @f.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                            </div>
                                                                                                            <div class="unlike">
                                                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@f.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@f.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                            </div>
                                                                                                        }
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <div class="like">
                                                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @f.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                        </div>
                                                                                                        <div class="unlike">
                                                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@f.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                        </div>
                                                                                                    }
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    foreach (var h in Model.Where(h => h.USTID == f.ID))
                                                                                    {
                                                                                        <div class="comment2">
                                                                                            @if (h.TBLUSER.PICTURE != null)
                                                                                            {
                                                                                                <img src="~/IMG/@h.TBLUSER.PICTURE">
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <img src="~/IMG/stockuser.png" />
                                                                                            }
                                                                                            <div class="detail">
                                                                                                <div class="user">
                                                                                                    <div class="name">
                                                                                                        @h.TBLUSER.USERNAME
                                                                                                    </div>
                                                                                                    <div class="year">
                                                                                                        @h.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="text">
                                                                                                    <strong style="color: #FF7F00;margin-right:8px;">@f.TBLUSER.USERNAME</strong>  @h.COMMENT
                                                                                                </div>
                                                                                                <div class="more">
                                                                                                    @{ isim = isim + h.ID;}
                                                                                                    @if (Request.IsAuthenticated)
                                                                                                    {
                                                                                                        <div data-bs-toggle="modal" data-bs-target="#@("modal_" + h.ID)" class="reply">
                                                                                                            <i class="bi bi-reply"></i> Cevapla
                                                                                                        </div>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                    }
                                                                                                    <!-- Modal -->
                                                                                                    @GenerateModal(h.ID, f.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                    <div class="likeandunlike">
                                                                                                        @if (User.Identity.IsAuthenticated)
                                                                                                        {
                                                                                                            var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                            var likeExist = h.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                            if (likeExist)
                                                                                                            {
                                                                                                                <div class="like">
                                                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @h.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                </div>
                                                                                                                <div class="unlike">
                                                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@h.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                </div>
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <div class="like">
                                                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@h.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @h.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                </div>
                                                                                                                <div class="unlike">
                                                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@h.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@h.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                </div>
                                                                                                            }
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <div class="like">
                                                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @h.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                            </div>
                                                                                                            <div class="unlike">
                                                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@h.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                            </div>
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        foreach (var j in Model.Where(j => j.USTID == h.ID))
                                                                                        {
                                                                                            <div class="comment2">
                                                                                                @if (j.TBLUSER.PICTURE != null)
                                                                                                {
                                                                                                    <img src="~/IMG/@j.TBLUSER.PICTURE">
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <img src="~/IMG/stockuser.png" />
                                                                                                }
                                                                                                <div class="detail">
                                                                                                    <div class="user">
                                                                                                        <div class="name">
                                                                                                            @j.TBLUSER.USERNAME
                                                                                                        </div>
                                                                                                        <div class="year">
                                                                                                            @j.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="text">
                                                                                                        <strong style="color: #FF7F00;margin-right:8px;">@h.TBLUSER.USERNAME</strong>  @j.COMMENT
                                                                                                    </div>
                                                                                                    <div class="more">
                                                                                                        @{ isim = isim + j.ID;}
                                                                                                        @if (Request.IsAuthenticated)
                                                                                                        {
                                                                                                            <div data-bs-toggle="modal" data-bs-target="#@("modal_" + j.ID)" class="reply">
                                                                                                                <i class="bi bi-reply"></i> Cevapla
                                                                                                            </div>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                        }
                                                                                                        <!-- Modal -->
                                                                                                        @GenerateModal(j.ID, h.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                        <div class="likeandunlike">
                                                                                                            @if (User.Identity.IsAuthenticated)
                                                                                                            {
                                                                                                                var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                                var likeExist = j.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                                if (likeExist)
                                                                                                                {
                                                                                                                    <div class="like">
                                                                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @j.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                    </div>
                                                                                                                    <div class="unlike">
                                                                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@j.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                    </div>
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    <div class="like">
                                                                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@j.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @j.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                    </div>
                                                                                                                    <div class="unlike">
                                                                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@j.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@j.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                    </div>
                                                                                                                }
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <div class="like">
                                                                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @j.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                </div>
                                                                                                                <div class="unlike">
                                                                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@j.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                </div>
                                                                                                            }
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            foreach (var k in Model.Where(k => k.USTID == j.ID))
                                                                                            {
                                                                                                <div class="comment2">
                                                                                                    @if (k.TBLUSER.PICTURE != null)
                                                                                                    {
                                                                                                        <img src="~/IMG/@k.TBLUSER.PICTURE">
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <img src="~/IMG/stockuser.png" />
                                                                                                    }
                                                                                                    <div class="detail">
                                                                                                        <div class="user">
                                                                                                            <div class="name">
                                                                                                                @k.TBLUSER.USERNAME
                                                                                                            </div>
                                                                                                            <div class="year">
                                                                                                                @k.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="text">
                                                                                                            <strong style="color: #FF7F00;margin-right:8px;">@j.TBLUSER.USERNAME</strong>  @k.COMMENT
                                                                                                        </div>
                                                                                                        <div class="more">
                                                                                                            @{ isim = isim + k.ID;}
                                                                                                            @if (Request.IsAuthenticated)
                                                                                                            {
                                                                                                                <div data-bs-toggle="modal" data-bs-target="#@("modal_" + k.ID)" class="reply">
                                                                                                                    <i class="bi bi-reply"></i> Cevapla
                                                                                                                </div>
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                            }
                                                                                                            <!-- Modal -->
                                                                                                            @GenerateModal(k.ID, j.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                            <div class="likeandunlike">
                                                                                                                @if (User.Identity.IsAuthenticated)
                                                                                                                {
                                                                                                                    var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                                    var likeExist = k.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                                    if (likeExist)
                                                                                                                    {
                                                                                                                        <div class="like">
                                                                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @k.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                        </div>
                                                                                                                        <div class="unlike">
                                                                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@k.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <div class="like">
                                                                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@k.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @k.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                        </div>
                                                                                                                        <div class="unlike">
                                                                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@k.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@k.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    <div class="like">
                                                                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @k.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                    </div>
                                                                                                                    <div class="unlike">
                                                                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@k.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                    </div>
                                                                                                                }
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                foreach (var l in Model.Where(l => l.USTID == k.ID))
                                                                                                {
                                                                                                    <div class="comment2">
                                                                                                        @if (l.TBLUSER.PICTURE != null)
                                                                                                        {
                                                                                                            <img src="~/IMG/@l.TBLUSER.PICTURE">
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <img src="~/IMG/stockuser.png" />
                                                                                                        }
                                                                                                        <div class="detail">
                                                                                                            <div class="user">
                                                                                                                <div class="name">
                                                                                                                    @l.TBLUSER.USERNAME
                                                                                                                </div>
                                                                                                                <div class="year">
                                                                                                                    @l.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="text">
                                                                                                                <strong style="color: #FF7F00;margin-right:8px;">@k.TBLUSER.USERNAME</strong>  @l.COMMENT
                                                                                                            </div>
                                                                                                            <div class="more">
                                                                                                                @{ isim = isim + l.ID;}
                                                                                                                @if (Request.IsAuthenticated)
                                                                                                                {
                                                                                                                    <div data-bs-toggle="modal" data-bs-target="#@("modal_" + l.ID)" class="reply">
                                                                                                                        <i class="bi bi-reply"></i> Cevapla
                                                                                                                    </div>
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                                }
                                                                                                                <!-- Modal -->
                                                                                                                @GenerateModal(l.ID, k.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                                <div class="likeandunlike">
                                                                                                                    @if (User.Identity.IsAuthenticated)
                                                                                                                    {
                                                                                                                        var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                                        var likeExist = l.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                                        if (likeExist)
                                                                                                                        {
                                                                                                                            <div class="like">
                                                                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @l.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                            </div>
                                                                                                                            <div class="unlike">
                                                                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@l.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                            </div>
                                                                                                                        }
                                                                                                                        else
                                                                                                                        {
                                                                                                                            <div class="like">
                                                                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@l.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @l.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                            </div>
                                                                                                                            <div class="unlike">
                                                                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@l.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@l.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                            </div>
                                                                                                                        }
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <div class="like">
                                                                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @l.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                        </div>
                                                                                                                        <div class="unlike">
                                                                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@l.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    foreach (var c in Model.Where(c => c.USTID == l.ID))
                                                                                                    {
                                                                                                        <div class="comment2">
                                                                                                            @if (c.TBLUSER.PICTURE != null)
                                                                                                            {
                                                                                                                <img src="~/IMG/@c.TBLUSER.PICTURE">
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <img src="~/IMG/stockuser.png" />
                                                                                                            }
                                                                                                            <div class="detail">
                                                                                                                <div class="user">
                                                                                                                    <div class="name">
                                                                                                                        @c.TBLUSER.USERNAME
                                                                                                                    </div>
                                                                                                                    <div class="year">
                                                                                                                        @c.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                                <div class="text">
                                                                                                                    <strong style="color: #FF7F00;margin-right:8px;">@l.TBLUSER.USERNAME</strong>  @c.COMMENT
                                                                                                                </div>
                                                                                                                <div class="more">
                                                                                                                    @{ isim = isim + c.ID;}
                                                                                                                    @if (Request.IsAuthenticated)
                                                                                                                    {
                                                                                                                        <div data-bs-toggle="modal" data-bs-target="#@("modal_" + c.ID)" class="reply">
                                                                                                                            <i class="bi bi-reply"></i> Cevapla
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                                    }
                                                                                                                    <!-- Modal -->
                                                                                                                    @GenerateModal(c.ID, l.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                                    <div class="likeandunlike">
                                                                                                                        @if (User.Identity.IsAuthenticated)
                                                                                                                        {
                                                                                                                            var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                                            var likeExist = c.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                                            if (likeExist)
                                                                                                                            {
                                                                                                                                <div class="like">
                                                                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @c.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                </div>
                                                                                                                                <div class="unlike">
                                                                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@c.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                </div>
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                                <div class="like">
                                                                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@c.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @c.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                </div>
                                                                                                                                <div class="unlike">
                                                                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@c.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@c.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                </div>
                                                                                                                            }
                                                                                                                        }
                                                                                                                        else
                                                                                                                        {
                                                                                                                            <div class="like">
                                                                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @c.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                            </div>
                                                                                                                            <div class="unlike">
                                                                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@c.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                            </div>
                                                                                                                        }
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        foreach (var v in Model.Where(v => v.USTID == c.ID))
                                                                                                        {
                                                                                                            <div class="comment2">
                                                                                                                @if (v.TBLUSER.PICTURE != null)
                                                                                                                {
                                                                                                                    <img src="~/IMG/@v.TBLUSER.PICTURE">
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    <img src="~/IMG/stockuser.png" />
                                                                                                                }
                                                                                                                <div class="detail">
                                                                                                                    <div class="user">
                                                                                                                        <div class="name">
                                                                                                                            @v.TBLUSER.USERNAME
                                                                                                                        </div>
                                                                                                                        <div class="year">
                                                                                                                            @v.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <div class="text">
                                                                                                                        <strong style="color: #FF7F00;margin-right:8px;">@c.TBLUSER.USERNAME</strong>  @v.COMMENT
                                                                                                                    </div>
                                                                                                                    <div class="more">
                                                                                                                        @{ isim = isim + v.ID;}
                                                                                                                        @if (Request.IsAuthenticated)
                                                                                                                        {
                                                                                                                            <div data-bs-toggle="modal" data-bs-target="#@("modal_" + v.ID)" class="reply">
                                                                                                                                <i class="bi bi-reply"></i> Cevapla
                                                                                                                            </div>
                                                                                                                        }
                                                                                                                        else
                                                                                                                        {
                                                                                                                            <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                                        }
                                                                                                                        <!-- Modal -->
                                                                                                                        @GenerateModal(v.ID, c.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                                        <div class="likeandunlike">
                                                                                                                            @if (User.Identity.IsAuthenticated)
                                                                                                                            {
                                                                                                                                var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                                                var likeExist = v.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                                                if (likeExist)
                                                                                                                                {
                                                                                                                                    <div class="like">
                                                                                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @v.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                    </div>
                                                                                                                                    <div class="unlike">
                                                                                                                                        <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@v.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                    </div>
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                    <div class="like">
                                                                                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@v.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @v.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                    </div>
                                                                                                                                    <div class="unlike">
                                                                                                                                        <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@v.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@v.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                    </div>
                                                                                                                                }
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                                <div class="like">
                                                                                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @v.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                </div>
                                                                                                                                <div class="unlike">
                                                                                                                                    <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@v.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                </div>
                                                                                                                            }
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            foreach (var b in Model.Where(b => b.USTID == v.ID))
                                                                                                            {
                                                                                                                <div class="comment2">
                                                                                                                    @if (b.TBLUSER.PICTURE != null)
                                                                                                                    {
                                                                                                                        <img src="~/IMG/@b.TBLUSER.PICTURE">
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <img src="~/IMG/stockuser.png" />
                                                                                                                    }
                                                                                                                    <div class="detail">
                                                                                                                        <div class="user">
                                                                                                                            <div class="name">
                                                                                                                                @b.TBLUSER.USERNAME
                                                                                                                            </div>
                                                                                                                            <div class="year">
                                                                                                                                @b.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="text">
                                                                                                                            <strong style="color: #FF7F00;margin-right:8px;">@v.TBLUSER.USERNAME</strong>  @b.COMMENT
                                                                                                                        </div>
                                                                                                                        <div class="more">
                                                                                                                            @{ isim = isim + b.ID;}
                                                                                                                            @if (Request.IsAuthenticated)
                                                                                                                            {
                                                                                                                                <div data-bs-toggle="modal" data-bs-target="#@("modal_" + b.ID)" class="reply">
                                                                                                                                    <i class="bi bi-reply"></i> Cevapla
                                                                                                                                </div>
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                                <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                                            }
                                                                                                                            <!-- Modal -->
                                                                                                                            @GenerateModal(b.ID, v.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                                            <div class="likeandunlike">
                                                                                                                                @if (User.Identity.IsAuthenticated)
                                                                                                                                {
                                                                                                                                    var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                                                    var likeExist = b.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                                                    if (likeExist)
                                                                                                                                    {
                                                                                                                                        <div class="like">
                                                                                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @b.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                        </div>
                                                                                                                                        <div class="unlike">
                                                                                                                                            <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@b.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                        </div>
                                                                                                                                    }
                                                                                                                                    else
                                                                                                                                    {
                                                                                                                                        <div class="like">
                                                                                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@b.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @b.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                        </div>
                                                                                                                                        <div class="unlike">
                                                                                                                                            <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@b.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@b.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                        </div>
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                    <div class="like">
                                                                                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @b.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                    </div>
                                                                                                                                    <div class="unlike">
                                                                                                                                        <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@b.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                    </div>
                                                                                                                                }
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                                foreach (var n in Model.Where(n => n.USTID == b.ID))
                                                                                                                {
                                                                                                                    <div class="comment2">
                                                                                                                        @if (n.TBLUSER.PICTURE != null)
                                                                                                                        {
                                                                                                                            <img src="~/IMG/@n.TBLUSER.PICTURE">
                                                                                                                        }
                                                                                                                        else
                                                                                                                        {
                                                                                                                            <img src="~/IMG/stockuser.png" />
                                                                                                                        }
                                                                                                                        <div class="detail">
                                                                                                                            <div class="user">
                                                                                                                                <div class="name">
                                                                                                                                    @n.TBLUSER.USERNAME
                                                                                                                                </div>
                                                                                                                                <div class="year">
                                                                                                                                    @n.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                            <div class="text">
                                                                                                                                <strong style="color: #FF7F00;margin-right:8px;">@b.TBLUSER.USERNAME</strong>  @n.COMMENT
                                                                                                                            </div>
                                                                                                                            <div class="more">
                                                                                                                                @{ isim = isim + n.ID;}
                                                                                                                                @if (Request.IsAuthenticated)
                                                                                                                                {
                                                                                                                                    <div data-bs-toggle="modal" data-bs-target="#@("modal_" + n.ID)" class="reply">
                                                                                                                                        <i class="bi bi-reply"></i> Cevapla
                                                                                                                                    </div>
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                    <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                                                }
                                                                                                                                <!-- Modal -->
                                                                                                                                @GenerateModal(n.ID, b.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                                                <div class="likeandunlike">
                                                                                                                                    @if (User.Identity.IsAuthenticated)
                                                                                                                                    {
                                                                                                                                        var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                                                        var likeExist = n.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                                                        if (likeExist)
                                                                                                                                        {
                                                                                                                                            <div class="like">
                                                                                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @n.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                            </div>
                                                                                                                                            <div class="unlike">
                                                                                                                                                <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@n.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                            </div>
                                                                                                                                        }
                                                                                                                                        else
                                                                                                                                        {
                                                                                                                                            <div class="like">
                                                                                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@n.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @n.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                            </div>
                                                                                                                                            <div class="unlike">
                                                                                                                                                <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@n.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@n.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                            </div>
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                    else
                                                                                                                                    {
                                                                                                                                        <div class="like">
                                                                                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @n.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                        </div>
                                                                                                                                        <div class="unlike">
                                                                                                                                            <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@n.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                        </div>
                                                                                                                                    }
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    foreach (var m in Model.Where(m => m.USTID == n.ID))
                                                                                                                    {
                                                                                                                        <div class="comment2">
                                                                                                                            @if (m.TBLUSER.PICTURE != null)
                                                                                                                            {
                                                                                                                                <img src="~/IMG/@m.TBLUSER.PICTURE">
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                                <img src="~/IMG/stockuser.png" />
                                                                                                                            }
                                                                                                                            <div class="detail">
                                                                                                                                <div class="user">
                                                                                                                                    <div class="name">
                                                                                                                                        @m.TBLUSER.USERNAME
                                                                                                                                    </div>
                                                                                                                                    <div class="year">
                                                                                                                                        @m.DATE.Value.ToString("dd.MM.yyyy")
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                                <div class="text">
                                                                                                                                    <strong style="color: #FF7F00;margin-right:8px;">@n.TBLUSER.USERNAME</strong>  @m.COMMENT
                                                                                                                                </div>
                                                                                                                                <div class="more">
                                                                                                                                    @{ isim = isim + m.ID;}
                                                                                                                                    @if (Request.IsAuthenticated)
                                                                                                                                    {
                                                                                                                                        <div data-bs-toggle="modal" data-bs-target="#@("modal_" + m.ID)" class="reply">
                                                                                                                                            <i class="bi bi-reply"></i> Cevapla
                                                                                                                                        </div>
                                                                                                                                    }
                                                                                                                                    else
                                                                                                                                    {
                                                                                                                                        <a style="text-decoration:none; color:#ffffff;" href="/LoginSignIn/Login"><i class="bi bi-reply"></i>Cevapla</a>
                                                                                                                                    }
                                                                                                                                    <!-- Modal -->
                                                                                                                                    @GenerateModal(m.ID, n.TBLUSER.USERNAME, ViewBag.animecom)
                                                                                                                                    <div class="likeandunlike">
                                                                                                                                        @if (User.Identity.IsAuthenticated)
                                                                                                                                        {
                                                                                                                                            var userID = db.TBLUSER.Where(ğ => ğ.USERNAME == User.Identity.Name).Select(ğ => ğ.ID).FirstOrDefault();
                                                                                                                                            var likeExist = m.TBLANIMECOMMENTLIKE.Any(ğ => ğ.USERID == userID);
                                                                                                                                            if (likeExist)
                                                                                                                                            {
                                                                                                                                                <div class="like">
                                                                                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @m.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                                </div>
                                                                                                                                                <div class="unlike">
                                                                                                                                                    <a style="text-decoration:none; cursor:default; color:white;"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@m.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                                </div>
                                                                                                                                            }
                                                                                                                                            else
                                                                                                                                            {
                                                                                                                                                <div class="like">
                                                                                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/LikeComment/@m.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @m.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                                </div>
                                                                                                                                                <div class="unlike">
                                                                                                                                                    <a style="text-decoration:none; color:white;" href="/AnimeDetail/UnlikeComment/@m.ID"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@m.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                                </div>
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        else
                                                                                                                                        {
                                                                                                                                            <div class="like">
                                                                                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-up"></i> @m.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == true).Count()</a>
                                                                                                                                            </div>
                                                                                                                                            <div class="unlike">
                                                                                                                                                <a style="text-decoration:none; color:white;" href="/LoginSignIn/Login"><i style="margin-right:2px;" class="bi bi-hand-thumbs-down"></i>@m.TBLANIMECOMMENTLIKE.Where(ğ => ğ.STATUS == false).Count()</a>
                                                                                                                                            </div>
                                                                                                                                        }
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }

            }
        }
        else
        {
            <p style="width:100%; height:200px; display:flex; font-size:1.1rem; align-items:center;justify-content:center; color:#ffffff;">Bu animeye henüz yorum yapılmamış</p>
        }
    </div>
</div>


